ifndef render_inc
render_inc = 1

include code\bios.inc

; Might make more sense to create this table at assembly time, need to figure out how to use the repeat macro.
externdef renderInitMultiplyRowBy80Table:proc
externdef renderPixel320x200x4:proc, renderHorizLine320x200x4:proc, renderVertLine320x200x4:proc, renderRect320x200x4:proc
externdef renderTile8x8:proc, renderEmptyTile8x8:proc
ifndef RENDER_NO_EXTERNS
externdef RenderMultiplyRowBy80Table:word
endif

; Input: aPaletteNum, has to be a literal (unsigned byte).
RENDER_SET_PALETTE_320x200x4 macro aPaletteNum:req
	mov ah,BIOS_VIDEO_FUNC_SET_PLT_BKG_BDR
    mov bx,aPaletteNum + (BIOS_VIDEO_SET_PLT_BKG_BDR_PALETTE * 256)
	int BIOS_VIDEO_INT
endm

WAIT_VSYNC macro
local wait0, wait1
	mov dx,3dah
wait0:
	in al,dx
	test al,8
	jnz short wait0
wait1:
	in al,dx
	test al,8
	jz short wait1
endm

endif
